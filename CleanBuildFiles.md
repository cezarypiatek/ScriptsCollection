
## Overview
A PowerShell script that recursively searches for and removes `bin` and `obj` directories, commonly generated by .NET build processes. The script provides interactive prompts for each directory and displays a comprehensive summary of the cleanup operation.

## Purpose
During development, `bin` and `obj` directories can accumulate and consume significant disk space. This script helps developers:
- Identify all build output directories in a project tree
- Selectively or bulk remove these directories
- Track how much disk space is reclaimed
- See detailed statistics about the cleanup operation

## Features

### ðŸ” Recursive Search
- Searches through all subdirectories from the specified starting path
- Identifies all directories named `bin` or `obj`
- Handles nested directory structures
- Continues searching even if access is denied to some folders

### âš¡ Interactive Prompts
For each directory found, the script displays:
- Full path to the directory
- Directory size (formatted as GB/MB/KB/bytes)
- Number of files and subdirectories contained

Then prompts with four options:
- **[Y] Yes** - Delete this specific directory
- **[A] Yes for All** - Delete all remaining directories without further prompts
- **[S] Skip** - Skip this directory and move to the next
- **[X] Abort** - Stop the operation immediately

### ðŸ“Š Detailed Summary
After completion, displays:
- **Total disk space reclaimed** - Formatted in appropriate units (GB/MB/KB/bytes)
- **Directories removed** - Count of all directories deleted (including subdirectories)
- **Files removed** - Total number of files deleted

## Usage

### Basic Usage
Clean the current directory:
```powershell
.\CleanBuildFiles.ps1
```

### Specify a Custom Path
Clean a specific directory:
```powershell
.\CleanBuildFiles.ps1 -Path "C:\Projects"
```

### Examples

#### Example 1: Clean a Solution Directory
```powershell
.\CleanBuildFiles.ps1 -Path "C:\Projects\MySolution"
```

#### Example 2: Clean Current Directory
```powershell
cd C:\Projects\MySolution
.\CleanBuildFiles.ps1
```

## How It Works

1. **Search Phase**
   - Validates the specified path exists
   - Recursively searches for all `bin` and `obj` directories
   - Reports how many directories were found

2. **Confirmation Phase**
   - For each directory found:
     - Calculates size and counts files/subdirectories
     - Displays directory information
     - Waits for user input (Y/A/S/X)
     - Processes the choice

3. **Deletion Phase**
   - Removes confirmed directories and all their contents
   - Handles errors gracefully (e.g., locked files, permission issues)
   - Tracks statistics for the summary

4. **Summary Phase**
   - Displays total space reclaimed
   - Shows counts of directories and files removed
   - Indicates if operation was aborted

## Input Options

The script accepts various input formats for each prompt:

| Input | Variations Accepted | Action |
|-------|-------------------|---------|
| Yes | `Y`, `y`, `YES`, `yes` | Delete this directory |
| Yes for All | `A`, `a`, `ALL`, `all` | Delete all remaining directories |
| Skip | `S`, `s`, `SKIP`, `skip` | Skip this directory |
| Abort | `X`, `x`, `ABORT`, `abort` | Stop the operation |

Invalid inputs will display an error message and re-prompt.

## Safety Features

- **Confirmation Required** - No directories are deleted without explicit confirmation
- **Skip Already Deleted** - If a parent directory was deleted, child directories are automatically skipped
- **Error Handling** - Displays error messages if deletion fails (e.g., file in use)
- **Abort Option** - Can stop the operation at any point
- **Force Parameter** - Uses `-Force` to handle read-only files

## Sample Output

```
Searching for bin and obj directories in: C:\Projects\MySolution

Found 8 directories to clean.

Directory: C:\Projects\MySolution\ProjectA\bin
  Size: 45.23 MB (1234 files, 8 subdirectories)
  Delete this directory?
    [Y] Yes  [A] Yes for All  [S] Skip  [X] Abort
  Choice: Y
  -> Yes
  Deleted successfully

Directory: C:\Projects\MySolution\ProjectA\obj
  Size: 12.45 MB (456 files, 3 subdirectories)
  Delete this directory?
    [Y] Yes  [A] Yes for All  [S] Skip  [X] Abort
  Choice: A
  -> Yes for All
  Deleted successfully

...

========================================
SUMMARY
========================================
Total disk space reclaimed: 234.56 MB
Directories removed: 48
Files removed: 5678
```

## Requirements

- **PowerShell** 5.1 or higher (Windows PowerShell)
- **PowerShell Core** 7.x or higher (cross-platform)
- Appropriate file system permissions for the target directories

## Notes

- The script requires permission to read and delete files in the target directories
- Some files may be locked by running processes (e.g., Visual Studio, MSBuild)
- Size calculations are performed before deletion, so actual space reclaimed may vary slightly
- The script uses `-Force` which will delete read-only files
- Hidden directories are included in the search

## Tips

- Close Visual Studio and other IDEs before running to avoid locked file errors
- Run from the solution root to clean all projects at once
- Use "Yes for All" when you're confident about cleaning all build directories
- The script is safe to run multiple times - it simply reports "No directories found" if already clean

## Troubleshooting

**"Access to the path is denied"**
- Run PowerShell as Administrator, or
- Ensure the files aren't locked by another process

**Script doesn't find expected directories**
- Verify the path is correct
- Check that `bin`/`obj` directories actually exist
- Ensure you have read permissions

**Cannot delete some files**
- Close Visual Studio, MSBuild, or other processes using those files
- Some antivirus software may lock files temporarily
